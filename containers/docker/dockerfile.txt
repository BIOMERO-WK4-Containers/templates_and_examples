# Use Python 3.11 slim image as base
FROM python:3.11-slim

# Set metadata
LABEL maintainer="vladimir.ulman@vsb.cz"
LABEL description="TIFF image processor using tifffile"
LABEL version="1.0"

# Install system dependencies if needed
RUN apt-get update && apt-get install -y \
    && rm -rf /var/lib/apt/lists/*

# Set working directory
WORKDIR /app

# Install Python dependencies
RUN pip install --no-cache-dir \
    tifffile \
    numpy

# Copy the Python script into the container
COPY example_tiff_processor.py .

# Make the script executable
RUN chmod +x example_tiff_processor.py

# Create data directory for mounting
RUN mkdir -p /data

# Set the entrypoint to run the Python script
ENTRYPOINT ["python", "example_tiff_processor.py"]
